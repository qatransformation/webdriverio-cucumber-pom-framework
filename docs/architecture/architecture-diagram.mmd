graph TB
    subgraph "Layer 1: Business Specification"
        F[Features/Gherkin<br/>todomvc.feature<br/>saucedemo.feature]
    end
    
    subgraph "Layer 2: Test Implementation"
        S[Step Definitions<br/>todo.steps.ts<br/>saucedemo.steps.ts<br/>common.steps.ts]
        W[Custom World<br/>Browser Context<br/>Page Objects Registry]
        H[Hooks<br/>Before/After<br/>Screenshots/Videos]
    end
    
    subgraph "Layer 3: Page Objects"
        BP[BasePage<br/>Common Methods]
        TP[TodoPage]
        SP[SauceDemoPage]
        OP[Other Pages...]
    end
    
    subgraph "Layer 4: Utilities"
        U1[Helpers<br/>Click, Fill, Wait]
        U2[Constants<br/>URLs, Timeouts]
        U3[Logger<br/>Test Logging]
    end
    
    subgraph "Layer 5: Browser Automation"
        WDIO[WebdriverIO API<br/>Chrome, Firefox, Safari]
    end
    
    F -->|executes| S
    S -->|uses| W
    S -->|interacts via| TP
    S -->|interacts via| SP
    S -->|interacts via| OP
    W -->|initializes| TP
    W -->|initializes| SP
    W -->|initializes| OP
    H -->|lifecycle| W
    TP -->|extends| BP
    SP -->|extends| BP
    OP -->|extends| BP
    BP -->|uses| U1
    BP -->|uses| U2
    S -->|uses| U3
    BP -->|calls| WDIO
    
    style F fill:#e1f5fe
    style S fill:#fff3e0
    style W fill:#fff3e0
    style H fill:#fff3e0
    style BP fill:#f3e5f5
    style TP fill:#f3e5f5
    style SP fill:#f3e5f5
    style OP fill:#f3e5f5
    style U1 fill:#e8f5e9
    style U2 fill:#e8f5e9
    style U3 fill:#e8f5e9
    style WDIO fill:#fce4ec
